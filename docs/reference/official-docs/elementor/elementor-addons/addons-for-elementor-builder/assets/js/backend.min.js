jQuery(document).ready((function(e){e(document).off("keyup",".afeb-elements-search-input").on("keyup",".afeb-elements-search-input",(function(){let a=e(this).val();e(".afeb-element-search-section").each((function(){e(this).find(".afeb-element-search-text").text().trim().search(new RegExp(a,"i"))<0?e(this).fadeOut(150):e(this).fadeIn(150)}))})),e(document).off("click",".afeb-elements-activate-all-btn").on("click",".afeb-elements-activate-all-btn",(function(){e(".afeb-element-status").removeClass("afeb-element-status-deactive"),e(".afeb-element-checkbox-box").removeClass("afeb-deactive-checkbox"),e(".afeb-element-section .afeb-checkbox").prop("checked",!0)})),e(document).off("click",".afeb-elements-deactivate-all-btn").on("click",".afeb-elements-deactivate-all-btn",(function(){e(".afeb-element-status").addClass("afeb-element-status-deactive"),e(".afeb-element-checkbox-box").addClass("afeb-deactive-checkbox"),e(".afeb-element-section .afeb-checkbox").prop("checked",!1)})),e(document).off("change",".afeb-element-checkbox-box .afeb-checkbox").on("change",".afeb-element-checkbox-box .afeb-checkbox",(function(){e(this).is(":checked")?(e(this).parent().removeClass("afeb-deactive-checkbox"),e(this).parent().parent().parent().find(".afeb-element-status").removeClass("afeb-element-status-deactive")):(e(this).parent().addClass("afeb-deactive-checkbox"),e(this).parent().parent().parent().find(".afeb-element-status").addClass("afeb-element-status-deactive"))})),e(".page-title-action[href$='post_type=afeb-builder']").removeAttr("href").attr({id:"afeb-create-new-template"}),e(document).off("click","#afeb-create-new-template").on("click","#afeb-create-new-template",(function(a){a.preventDefault(),e(".afeb-body").hasClass("ui-dialog-show")||e(".afeb-body").addClass("ui-dialog-show"),e('input[name="afeb_new_template_name"]').val(""),e(".afeb-new-template-msg").remove(),e("#afeb-new-template-dialog").dialog("open")})),e(document).off("click","#afeb-new-template-dialog>button").on("click","#afeb-new-template-dialog>button",(function(a){a.preventDefault();let t=e(this),n=t.find(">span");if("none"!=n.css("display"))return;let i=e('select[name="afeb_new_template_type"]').val(),c=e('input[name="afeb_new_template_name"]').val();t.parent().find(".afeb-new-template-msg").remove(),n.css("display","inline-block"),e.ajax({url:AFEB.ajax_url,type:"POST",data:{action:"afeb_create_template",nonce:AFEB.nonce,data:{name:c,type:i}},success:function(e){n.css("display","none"),e.success?(t.after('<h4 class="afeb-new-template-msg afeb-sucs">'+e.data.message+"</h4>"),setTimeout((function(){window.location.href=e.data.redirect}),100)):t.after('<h4 class="afeb-new-template-msg afeb-err">'+e.data.message+"</h4>")},error:function(){n.css("display","none"),t.after('<h4 class="afeb-new-template-msg afeb-err">'+t.data("err-msg")+"</h4>")}})})),e(document).off("keypress",".afeb-new-template-name>input").on("keypress",".afeb-new-template-name>input",(function(a){13==a.originalEvent.keyCode&&e("#afeb-new-template-dialog>button").click()})),e(document).off("input",".afeb-new-template-name>input").on("input",".afeb-new-template-name>input",(function(a){""!=e(this).val().trim()&&e(this).parent().parent().find(".afeb-new-template-msg").remove()})),e(".page-title-action[href$='post_type=afeb-popup']").removeAttr("href").attr({id:"afeb-create-new-popup"}),e(document).off("click","#afeb-create-new-popup").on("click","#afeb-create-new-popup",(function(a){a.preventDefault(),e(".afeb-body").hasClass("ui-dialog-show")||e(".afeb-body").addClass("ui-dialog-show"),e('input[name="afeb_new_popup_name"]').val(""),e(".afeb-new-popup-msg").remove(),e("#afeb-new-popup-dialog").dialog("open")})),e(document).off("click","#afeb-new-popup-dialog>button").on("click","#afeb-new-popup-dialog>button",(function(a){a.preventDefault();let t=e(this),n=t.find(">span");if("none"!=n.css("display"))return;let i=e('input[name="afeb_new_popup_name"]').val();t.parent().find(".afeb-new-popup-msg").remove(),n.css("display","inline-block"),e.ajax({url:AFEB.ajax_url,type:"POST",data:{action:"afeb_create_popup",nonce:AFEB.nonce,data:{name:i}},success:function(e){n.css("display","none"),e.success?(t.after('<h4 class="afeb-new-popup-msg afeb-sucs">'+e.data.message+"</h4>"),setTimeout((function(){window.location.href=e.data.redirect}),100)):t.after('<h4 class="afeb-new-popup-msg afeb-err">'+e.data.message+"</h4>")},error:function(){n.css("display","none"),t.after('<h4 class="afeb-new-popup-msg afeb-err">'+t.data("err-msg")+"</h4>")}})})),e(document).off("keypress",".afeb-new-popup-name>input").on("keypress",".afeb-new-popup-name>input",(function(a){13==a.originalEvent.keyCode&&e("#afeb-new-popup-dialog>button").click()})),e(document).off("input",".afeb-new-popup-name>input").on("input",".afeb-new-popup-name>input",(function(a){""!=e(this).val().trim()&&e(this).parent().parent().find(".afeb-new-popup-msg").remove()})),e(".afeb-edit-advanced-menu-field-icon").fontIconPicker({emptyIconValue:""}),e(".afeb-colorpicker").wpColorPicker(),e(document).off("click",".afeb-edit-advanced-menu-activation>label").on("click",".afeb-edit-advanced-menu-activation>label",(function(){let a=e(this).parent().parent().find(".afeb-edit-advanced-menu-fields"),t=e(this).parent().find(".afeb-edit-advanced-menu-activation-checkbox"),n=e(this).text(),i=e(this).closest(".menu.ui-sortable").find(".afeb-edit-advanced-sub-menu-wrap");e(this).text(e(this).data("label")),e(this).data("label",n),t.is(":checked")?(t.prop("checked",!1),e(this).parent().addClass("afeb-edit-advanced-menu-deactive"),a.slideUp(),i.hide()):(a.find(".afeb-edit-advanced-menu-field-icon").fontIconPicker({emptyIconValue:""}),a.find(".afeb-colorpicker").wpColorPicker(),t.prop("checked",!0),e(this).parent().removeClass("afeb-edit-advanced-menu-deactive"),a.slideDown(),i.show())})),e(document).off("change","#afeb-edit-advanced-menu-field-type").on("change","#afeb-edit-advanced-menu-field-type",(function(){""==this.value&&e(this).parent().parent().parent().find(".afeb-edit-advanced-menu-field-width-wrap").hide()})),e(document).off("click",".afeb-edit-advanced-sub-menu-activation>label").on("click",".afeb-edit-advanced-sub-menu-activation>label",(function(){let a=e(this).parent().parent().find(".afeb-edit-advanced-sub-menu-fields"),t=e(this).parent().find(".afeb-edit-advanced-menu-activation-checkbox");t.is(":checked")?(t.prop("checked",!1),e(this).parent().addClass("afeb-edit-advanced-sub-menu-deactive"),a.slideUp()):(a.find(".afeb-edit-advanced-menu-field-icon").fontIconPicker({emptyIconValue:""}),t.prop("checked",!0),e(this).parent().removeClass("afeb-edit-advanced-sub-menu-deactive"),a.slideDown())})),setInterval((function(){e(".menu.ui-sortable").find(".menu-item").each((function(){let a=e(this),t=a.attr("class").match(/menu-item-depth-[0-9]{0,}/gi),n=a.find(".afeb-edit-advanced-menu-wrap").find(".afeb-edit-advanced-menu-field-type-wrap,.afeb-edit-advanced-menu-field-template-id-wrap,.afeb-edit-advanced-menu-field-shortcode-wrap,.afeb-edit-advanced-menu-field-width-wrap"),i=a.find(".afeb-edit-advanced-menu-field-heading-wrap"),c=a.find("#afeb-edit-advanced-menu-field-depth");if(t=void 0!==t[0]?parseInt(t[0].replace("menu-item-depth-","")):"",c.val(t),0!=t)1==t&&i.show(),n.each((function(){e(this).hide()}));else{i.hide(),e(n.get(0)).show(),""!=e(n.get(0)).find("#afeb-edit-advanced-menu-field-type").val()&&e(n.get(1)).show()}}))}),250)}));