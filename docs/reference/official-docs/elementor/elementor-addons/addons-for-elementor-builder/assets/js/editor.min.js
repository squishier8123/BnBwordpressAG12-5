jQuery(document).ready(function(e){elementor.on("panel:init",function(){e.each(["afeb_cstm_hdr_js","afeb_cstm_ftr_js"],function(t,a){elementor.settings.page.addChangeCallback(a,function(){let t=this.model.attributes,n={afeb_cstm_hdr_js:t.afeb_cstm_hdr_js,afeb_cstm_ftr_js:t.afeb_cstm_ftr_js,afeb_cstm_js:a};e("#elementor-preview-iframe")[0].contentWindow.postMessage(n)})}),e.each(["afeb_gup_ic","afeb_gup_ttl_sh","afeb_gup_ttl"],function(t,a){elementor.settings.page.addChangeCallback(a,function(){let t=this.model.attributes,a={afeb_gup_ic:t.afeb_gup_ic,afeb_gup_ttl_sh:t.afeb_gup_ttl_sh,afeb_gup_ttl:t.afeb_gup_ttl};e("#elementor-preview-iframe")[0].contentWindow.postMessage(a)})});let t=null;e.each(["afeb_preloader_loader","afeb_preloader_loader_animation","afeb_preloader_entrance_animation","afeb_preloader_exit_animation","afeb_preloader_animation_duration"],function(a,n){elementor.settings.page.addChangeCallback(n,function(a){let n=this;clearTimeout(t),t=setTimeout(function(){let t=n.model.attributes,a={afeb_preloader_loader:t.afeb_preloader_loader,afeb_preloader_loader_animation:t.afeb_preloader_loader_animation,afeb_preloader_entrance_animation:t.afeb_preloader_entrance_animation,afeb_preloader_exit_animation:t.afeb_preloader_exit_animation,afeb_preloader_animation_duration:t.afeb_preloader_animation_duration};e("#elementor-preview-iframe")[0].contentWindow.postMessage(a)},300)})})}),elementor.hooks.addFilter("editor/style/styleText",function(e,t){if(!t)return;let a=t.model,n=a.get("settings").get("afeb_cstm_hdr_css"),o=".elementor-element.elementor-element-"+a.get("id");return"document"===a.get("elType")&&(o=elementor.config.document.settings.cssWrapperSelector),n&&(e+=n.replace(/selector/g,o)),e}),elementor.channels.editor.on("section:activated",function(e,t){let a=t.getOption("editedElementView");if("afeb_flip_box"==a.model.get("widgetType")){let n=-1!==["back_content_section","back_style_section"].indexOf(e);a.$el.toggleClass("afeb-flip-box-flipped",n);let o=a.$el.find(".afeb-flip-box-back");n&&o.css("transition","none"),n||setTimeout(function(){o.css("transition","")},10)}}),e(document).off("change",'select[data-setting="template_type"]').on("change",'select[data-setting="template_type"]',function(){$e.run("document/save/auto",{force:!0,onSuccess:function(){elementor.reloadPreview(),elementor.once("preview:loaded",()=>{$e.route("panel/page-settings/settings")})}})}),e(document).off("click",".afeb-update-preview>button").on("click",".afeb-update-preview>button",function(){$e.run("document/save/auto",{force:!0,onSuccess:function(){elementor.dynamicTags.cleanCache();elementor.config.initial_document.id===elementor.documents.getCurrentId()?elementor.reloadPreview():$e.internal("editor/documents/attach-preview")}})}),setInterval(function(){let t=e("body"),a=e(".elementor-control-afeb-stng-ext-preloader");if(a.length){if("yes"!=a.closest("#elementor-kit-panel-content").data("afeb-preloader-show-preview-action")){let n={afeb_preloader_loader:elementor.settings.page.model.get("afeb_preloader_loader"),afeb_preloader_loader_animation:elementor.settings.page.model.get("afeb_preloader_loader_animation"),afeb_preloader_entrance_animation:elementor.settings.page.model.get("afeb_preloader_entrance_animation"),afeb_preloader_exit_animation:elementor.settings.page.model.get("afeb_preloader_exit_animation"),afeb_preloader_animation_duration:elementor.settings.page.model.get("afeb_preloader_animation_duration"),afeb_preloader_show_preview_action:"yes"};e("#elementor-preview-iframe")[0].contentWindow.postMessage(n),a.closest("#elementor-kit-panel-content").data("afeb-preloader-show-preview-action","yes"),t.data("afeb-preloader-show-preview-action","yes")}}else"yes"==t.data("afeb-preloader-show-preview-action")&&(e("#elementor-preview-iframe")[0].contentWindow.postMessage({afeb_preloader_show_preview_action:"no"}),t.data("afeb-preloader-show-preview-action",""));e(document).find(".elementor-control-display_condition_archive_advanced_section").parent().find('.elementor-control-display_condition.elementor-control-type-repeater select[data-setting="conditon_group"]').val("archive").change(),e(document).find(".elementor-control-display_condition_single_advanced_section").parent().find('.elementor-control-display_condition.elementor-control-type-repeater select[data-setting="conditon_group"]').val("singular").change()},100)});